From 6840b33b7a7938464c9f15dbe7b0382aada8397b Mon Sep 17 00:00:00 2001
From: Philip Russell <argosphil@murena.io>
Date: Tue, 5 Sep 2023 12:12:59 +0000
Subject: [PATCH] dhd_custom_platdev.c: use random MAC address for now

---
 drivers/net/wireless/bcmdhd/dhd_custom_platdev.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/drivers/net/wireless/bcmdhd/dhd_custom_platdev.c b/drivers/net/wireless/bcmdhd/dhd_custom_platdev.c
index f26cbc93fd19..ed68ab4b8204 100644
--- a/drivers/net/wireless/bcmdhd/dhd_custom_platdev.c
+++ b/drivers/net/wireless/bcmdhd/dhd_custom_platdev.c
@@ -605,6 +605,7 @@ static int dhd_wifi_get_mac_addr(unsigned char *buf)
 
 	if (!buf)
 		return -EFAULT;
+	/*
 	fp = filp_open(WIFIMAC_ADDR_PATH, O_RDONLY,  0444);
 	if (IS_ERR(fp)){
 		printk("Can not access wifi mac file : %s\n",WIFIMAC_ADDR_PATH);
@@ -632,7 +633,7 @@ static int dhd_wifi_get_mac_addr(unsigned char *buf)
 		set_fs(fs);
 		filp_close(fp, NULL);
 	}
-
+*/
 	if ((brcm_mac_addr[4] == 0) && (brcm_mac_addr[5] == 0)) {
 		prandom_seed((uint)jiffies);
 		rand_mac = prandom_u32();
-- 
2.41.0

